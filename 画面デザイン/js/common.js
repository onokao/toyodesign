let data = {"0":{},
            "1":{modelName: "taro",partsId: '30',partsName: "aaaa", partsName2:"", partsName3:"", partsKana: "えー", partsKana2: "", partsKana3: "", partsImg:"", partsImg2:"", partsImg3: "", costPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "2":{modelName:"jiro",partsId:'20',partsName:"bbbb", partsName2:"", partsName3:"", partsKana:"びー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "3":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "4":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "5":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "6":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "7":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "8":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "9":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "10":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "11":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "12":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "13":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
            "14":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "16":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "17":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "18":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
           "19":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""},
                "15":{modelName:"saburo",partsId:'15',partsName:"cccc", partsName2:"", partsName3:"", partsKana:"しー", partsKana2:"", partsKana3:"", partsImg:"", partsImg2:"", partsImg3:"", costlPrice: "200", sellingPrice: "500", supplier: "ききょう建設", manufacturer: "大阪工機", material: "steel", size: "", remarks: "", remarks2: "", BOMcode: "", clasification: ""}};
let col = data['1'];

/***************************************
/ テーブル作成ファンクション
****************************************/
const createTable = () => {
    let keys = Object.keys(data);
    let column = Object.keys(col);
    let parentTable = document.createElement('table');
    for (let i = 0; i<keys.length; i++) {
        let tr = document.createElement('tr');
        for (var j = 0; j < column.length; j++) {
            // 1行目のtr要素の時
            if(i === 0) {
                if( j === 0){
                    var th = document.createElement('th');
                    th.textContent = '選択';
                    th.setAttribute("class", "check-box");
                    // th要素をtr要素の子要素に追加
                    tr.appendChild(th);
                }
              // th要素を生成
              var th = document.createElement('th');
              // class名を付ける
              th.setAttribute("class", column[j])
              // th要素内にテキストを追加
              th.textContent = column[j];
              // th要素をtr要素の子要素に追加
              tr.appendChild(th);
            } else {
                if(j === 0){
                    let td = document.createElement('td');
                    let checkbox = document.createElement('input');
                    checkbox.setAttribute("type", "checkbox");
                    checkbox.setAttribute("value", '');
                    checkbox.setAttribute("id", i + j);
                    checkbox.setAttribute("class", "check-box");
                    checkbox.setAttribute("name", i + j);
                    td.appendChild(checkbox);
                    tr.appendChild(td);
                }
              // td要素を生成
              var td = document.createElement('td');
              // td要素内にテキストを追加
              let key = keys[i];
              td.textContent = data[key][column[j]];
              // td要素をtr要素の子要素に追加
              tr.appendChild(td);
            }
        // tr要素をtable要素の子要素に追加
        parentTable.appendChild(tr);
        }
    }
    document.getElementById('table-wrapper').appendChild(parentTable);
}

/***************************************************************************
/ メニューリスト作成ファンクション（実際に呼び出すのは各画面のJSファイルで行うこと）
****************************************************************************/

const showMenu = (menuArray) => {
    // すでにメニューバーが表示されているか判断
    let menuDisplayed = document.getElementById('menuDisplayed');

    // 表示されている場合はリストをリムーブ
    if (menuDisplayed.value == 1) {
        let menuIcon = document.getElementById('menuIcon');
        let menu = document.getElementById('menu');
        menuIcon.removeChild(menu);
        // メニューアイコンのCSSをもとに戻す
        menuIcon.style.cssText = menuIcon.style.cssText + 'position: relative; top: 0;'
        menuDisplayed.setAttribute("value", "0");
    } else {
        // メニューのを作成
        for (let i = 0; i <= 4; i++) {
            if (i == 0) {
                // 1個目は<ul>要素を作る
                var ul = document.createElement('ul');
                ul.setAttribute("id", "menu");
            } else {
                var li = document.createElement('li');
                li.textContent = menuArray[i];
                ul.appendChild(li);
            }
        }
        let menuIcon = document.getElementById('menuIcon');
        menuIcon.appendChild(ul);
        menuIcon.style.cssText = menuIcon.style.cssText + 'position: relative; top: 5.2rem;'
        menuDisplayed.setAttribute("value", "1");
    }
}

/***************************************
/ 検索条件追加ファンクション
****************************************/

function overlay() {
    //オーバーレイ処理
    $('#overlay, .modal-window').fadeIn();

    locateCenter();
    $(window).resize(locateCenter);
    return false;
};

function closeModal() {
    //モーダル処理
    $('#overlay, .modal-window').fadeOut();
    return false;
}
function locateCenter() {
    let w = $(window).width();
    let h = $(window).height();

    let cw = $('.modal-window').outerWidth();
    let ch = $('.modal-window').outerHeight();

    $('.modal-window').css({
        'left': ((w - cw) / 2 * 0.1) + 'rem',
        'top': ((h - ch) / 5 * 0.1) + 'rem'
    });
}
